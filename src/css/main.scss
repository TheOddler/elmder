$phoneWidth: 600px;
$desktopWidth: 1000px;

@mixin onPhone {
  @media (max-width: #{$phoneWidth}) {
    @content;
  }
}

@mixin onTablet {
  @media (min-width: #{$phoneWidth}) and (max-width: #{$desktopWidth - 1px}) {
    @content;
  }
}

@mixin onDesktop {
  @media (min-width: #{$desktopWidth}) {
    @content;
  }
}

body {
  overflow-wrap: break-word;
  text-align: justify;
}

.columns {
  $columnGap: 1em;

  column-gap: $columnGap;

  >div {
    break-inside: avoid;
    margin-bottom: $columnGap;
  }

  @include onPhone {
    column-count: 1;
  }

  @include onTablet {
    column-count: 2;
  }

  @include onDesktop {
    column-count: 3;
  }
}

.card {
  $contentMargin: 0.75em;

  overflow: hidden;
  background-color: #fff;
  border-radius: 0.25rem;
  box-shadow: 0 .2em .5em .1em rgba(0, 0, 0, .25);

  >figure {
    margin: 0;
    padding: 0;
    width: 100%;
    position: relative; // to allow for absolute figcaption

    >img {
      width: 100%;
      vertical-align: bottom; // removes a tiny little bit of whitespace in the case there is no extra content in the card
    }

    >figcaption {
      position: absolute;
      bottom: $contentMargin;
      margin: 0 $contentMargin;

      @mixin outline {
        $outlineColor: rgba(0, 0, 0, 0.25);
        text-shadow:
          -1px -1px 0 $outlineColor,
          1px -1px 0 $outlineColor,
          -1px 1px 0 $outlineColor,
          1px 1px 0 $outlineColor;
      }

      .header {
        font-size: larger;
        font-weight: bold;
        color: white;
        @include outline;
      }

      .sub-header {
        color: lightgrey;
        @include outline;
      }
    }
  }

  >.content {
    margin: $contentMargin;
  }
}